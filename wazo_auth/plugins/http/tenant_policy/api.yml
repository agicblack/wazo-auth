paths:
  /tenants/{tenant_uuid}/policies:
    get:
      consumes:
        - application/json
      produces:
        - application/json
      tags:
        - tenants
      security:
      - wazo_auth_token: []
      description: '**Required ACL**: `auth.tenants.{tenant_uuid}.policies.read`'
      parameters:
      - $ref: '#/parameters/order'
      - $ref: '#/parameters/direction'
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/search'
      - $ref: '#/parameters/tenant_uuid'
      summary: Retrieve the list of policies associated to a tenant.
      responses:
        '200':
          description: "The tenant's data"
          schema:
            $ref: '#/definitions/PolicyList'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '404':
          description: Tenant not found
          schema:
            $ref: '#/definitions/Error'
        '500':
          description: System related error
          schema:
            $ref: '#/definitions/Error'
  /tenants/{tenant_uuid}/policies/{policy_uuid}:
    put:
      consumes:
        - application/json
      produces:
        - application/json
      tags:
        - policies
        - tenants
      security:
        - wazo_auth_token: []
      operationId: addPolicyTenant
      description: '**Required ACL:** `auth.tenants.{tenant_uuid}.policies.{policy_uuid}.create`'
      summary: Associate a policy to a tenant
      parameters:
      - $ref: '#/parameters/tenant_uuid'
      - $ref: '#/parameters/policy_uuid'
      responses:
        '204':
          description: Association successful
        '404':
          description: Policy or Tenant not found
          schema:
            $ref: '#/definitions/Error'
    delete:
      consumes:
        - application/json
      produces:
        - application/json
      tags:
        - policies
        - tenants
      security:
        - wazo_auth_token: []
      operationId: removePolicyTenant
      description: '**Required ACL:** `auth.tenants.{tenant_uuid}.policies.{policy_uuid}.delete`'
      summary: Dissociate a tenant and a policy
      parameters:
      - $ref: '#/parameters/tenant_uuid'
      - $ref: '#/parameters/policy_uuid'
      responses:
        '204':
          description: The association has been removed
        '404':
          description: Policy or Tenant not found
          schema:
            $ref: '#/definitions/Error'
  /policies/{policy_uuid}/tenants:
    get:
      consumes:
        - application/json
      produces:
        - application/json
      tags:
        - policies
      security:
      - wazo_auth_token: []
      description: '**Required ACL**: `auth.policies.{policy_uuid}.tenants.read`'
      parameters:
      - $ref: '#/parameters/order'
      - $ref: '#/parameters/direction'
      - $ref: '#/parameters/limit'
      - $ref: '#/parameters/offset'
      - $ref: '#/parameters/search'
      - $ref: '#/parameters/policy_uuid'
      summary: Retrieves the tenants associated to a policy
      responses:
        '200':
          description: "The policy's tenant list"
          schema:
            $ref: '#/definitions/TenantList'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error'
        '404':
          description: Policy not found
          schema:
            $ref: '#/definitions/Error'
        '500':
          description: System related error
          schema:
            $ref: '#/definitions/Error'
